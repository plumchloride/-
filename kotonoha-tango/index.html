<!DOCTYPE html>
<html lang="ja">
  <!-- AWS用 -->
  <head>
  <meta charset="utf-8">
  <title>ことのはたんご | 単語推理ゲーム</title>
  <meta name="description" content="日本語版Wordle。1日1回単語推測パズルゲーム">
  <link rel="icon" type="image/png" href="./public/img/icon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="./src/get_csv.js" defer></script>
  <script src="./src/get_today_word.js" defer></script>
  <script src="./src/create_key_bord.js" defer></script>
  <script src="./src/wake_up.js" defer></script>
  <script src="./src/check_answer.js" defer></script>
  <script src="./src/display_setting.js" defer></script>
  <script src="./src/create_answer_input.js" defer></script>
  <script src="./src/create_display.js" defer></script>
  <script src="./src/create_answer_keybord.js" defer></script>
  <script src="./src/end.js" defer></script>
  <script src="./src/ui.js" defer></script>
  <script src="./src/webstorage.js" defer></script>
  <script src="./src/change_to_en.js" defer></script>
  <link rel="stylesheet" href="./public/style.css"></link>
  <!-- chart js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.0/dist/chart.min.js" defer></script>

  <!-- twitter test -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@plum_chloride">
  <meta name="twitter:creator" content="@plum_chloride">
  <meta name="twitter:image" content="https://plum-chloride.jp/kotonoha-tango/public/img/card.png">
  <meta property="og:title" content="ことのはたんご | 単語推理ゲーム">
  <meta property="og:description" content="日本語版Wordle。1日1回単語推測パズルゲーム">
  <meta name="twitter:description" content="日本語版Wordle。1日1回単語推測パズルゲーム">
  <meta property="og:image" content="https://plum-chloride.jp/kotonoha-tango/public/img/card.png">
  <meta property="og:url" content="https://plum-chloride.jp/kotonoha-tango/index.html" />
  <meta name="twitter:url" content="https://plum-chloride.jp/kotonoha-tango/index.html">
  <meta property="og:site_name" content="ことのはたんご | 単語推理ゲーム">
  <meta property="og:locale" content="ja_JP" />
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-HZCPVJSXFG"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-HZCPVJSXFG');
  </script>
  </head>
  <body>
    <div id="header">
      <div>
        <img id="img_hatena" class = "inline-img" data-mode="hatena" src="./public/img/hatena.svg" width="30" height="30" alt="what is this app">
        <div id="place_holder"></div>
      </div>
      <h1 id="title" style="cursor: pointer;">ことのはたんご</h1>
      <div>
        <img id="img_bar_graph" class = "inline-img-r" data-mode="bar" src="./public/img/bar_graph.svg" width="30" height="30" alt="setting">
        <img id="img_setting" class = "inline-img-r" data-mode="set" src="./public/img/set.svg" width="30" height="30" alt="setting">
      </div>
    </div>
    <div id="hatena" class="explanation">
      <h2 id="switch_lang"><small><u id="switch_lang_u">Switch to English</u></small></h2>
      <h2>遊び方</h2>
      <p>10回の試行で決められた<strong>たんご</strong>を当てて下さい。</p>
      <p>それぞれの試行は本アプリの辞書で定められた5文字の<strong>ことのは</strong>であることが必要です。</p>
      <p>各試行のたびに文字のタイルの色が変わり、試行した単語に対して評価を行っています。</p>
      <h2>例</h2>
      <div class="row">
        <div class="display_num word_hit">キ</div>
        <div class="display_num word_none">ョ</div>
        <div class="display_num word_hit">ウ</div>
        <div class="display_num word_blow">シ</div>
        <div class="display_num word_none">ツ</div>
      </div>
      <div style="font-size: 0.9em;">
        <p><strong class="hit_ex">「キ・ウ」</strong>はたんごに<strong class="hit_ex">含まれており場所も正しい</strong>です。</p>
        <p><strong class="blow_ex">「シ」</strong>はたんごに含まれているが<strong class="blow_ex">場所が違います</strong>。</p>
        <p><strong>「ョ・ツ」</strong>はたんごに含まれていません。</p>
      </div>
      <h2>初めに</h2>
      <p>本家<a href="https://www.powerlanguage.co.uk/wordle/" target="_blank">Wordle</a>様より大きな影響を受けて日本語版の Wordle として作成しました。</p>
      <p>1日1回遊ぶことが出来る単語推理ゲームです。</p>
      <p>答えは全ユーザーで共通です。ネタバレは避けましょう</p>
      <p><strong>日本語の特性上本家Wordleよりもだいぶ難易度が高いです</strong>。</p>
      <h2>プレイ指南書・作製後感想</h2>
      <p>＞ <a href="https://note.com/plumchloride/n/n1fcddc29b00c" target="_blank">note記事</a></p>
      <h2>単語更新・辞書データについて</h2>
      <p>＞ <a href="https://note.com/plumchloride/n/n8d25cad96348" target="_blank">note記事</a></p>
      <h2>入力方法</h2>
      <p>入力方法はUIキーボードとキーボードの二種類あります。</p>
      <p>現在オレンジ色で囲われている箇所が入力するテキストの枠です。その中で水色に囲われている箇所がUIキーボードにおける現在入力中の文字であり、該当箇所に文字の挿入及び削除がされます。</p>
      <h2>注意</h2>
      <p>日本語は単語数が膨大なため、存在する単語でも<strong>ことのは</strong>に登録されていない可能性があります。ご了承下さい。</p>
      <p>同じ文字を２個、３個使う<strong>ことのは</strong>（例：シュクシャ・シシオドシ）を入力した際には、答えに含まれる文字数分だけ左から評価の表示を行います。ただし緑ハイライトの場合はその限りではありません。<br><strong>たんご</strong>が「シュクシャ」、入力した<strong>ことのは</strong>が「シシオドシ」の場合「シ」の１文字目が緑２文字目が黄色、３文字目がグレーにハイライトされます。</p>
      <p>出題単語に対するフィルタリングを明確には行っていません。本アプリにて出題される単語は「政治・宗教的・性差別・性的」な意図を含みません。</p>

      <h2 id="hatena_close"><u style="cursor: pointer;" id="hatena_close_u">説明を閉じる</u></h2>
      <hr>
      <div></div>
      <p><small>たんごは乱数を用いて毎日辞書より生成しています。内部のJavaScriptを解析すると取得出来ますが、そのような行動はお控え下さい。</small></p>
      <img alt="クリエイティブ・コモンズ・ライセンス" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" />
    </div>
    <div id="body" class="non_visi">
      <div id ="time_left">今日の単語 残り時間：--:--:--</div>

      <div id="eval_display"></div>

      <div class="inputs">
        <input id = "input_text" type="text" maxlength="5" placeholder="キーボード入力用">
        <button id="Decision_button">決定</button>
      </div>

      <div id="keybord"></div>
      <div id="keybord_move" class="non_visi">
        <button class="key_type_bt" onclick="FuncButton('←');return false;">←</button>
        <button class="key_type_bt" onclick="FuncButton('→');return false;">→</button>
        <button class="key_type_bt" onclick="FuncButton('del');return false;">del</button>
      </div>
      <div id="keybord_type">
        <button id = "kt_all" class="key_type_bt cuurent" onclick="KryTypeChange('all');return false;">全種</button>
        <button id = "kt_normal" class="key_type_bt" onclick="KryTypeChange('normal');return false;">50音</button>
        <button id = "kt_ga" class="key_type_bt" onclick="KryTypeChange('ga');return false;">濁点等</button>
        <button id = "kt_none" class="key_type_bt" onclick="KryTypeChange('none');return false;">非表示</button>
      </div>
    </div>
    <div id="graph" class="non_visi explanation">
      <div id="graph_body">
        <h2 id ="result">今日は正解していません</h2>
        <p id="result_answer"></p>
        <p id="emoji_place"></p>
        <div id="graph_bt">
          <div id="graph_copy" class="graph_bt_c">コピー</div>
          <div id="graph_tw" class="graph_bt_c">ツイート</div>
        </div>
        <div id="graph_bt2">
          <div id="graph_tw_url" class="graph_bt_url">URL付きでツイート</div>
        </div>
        <h2 id="history_h2">戦歴</h2>
        <div id="history">
          <div class="row">
            <div class="h-text" id="his_1">プレイ<br>回数</div>
            <div class="h-number" id = "try_count"> </div>
          </div>
          <div class="row">
            <div class="h-text" id="his_2" style="padding-top: 1.5ex; height: 3.5ex;">勝率</div>
            <div class="h-number" id = "win_rate"> </div>
          </div>
          <div class="row">
            <div class="h-text" id="his_3">現在の<br>連勝数</div>
            <div class="h-number" id = "current_streak"> </div>
          </div>
          <div class="row">
            <div class="h-text" id="his_4">最大<br>連勝数</div>
            <div class="h-number" id = "max_streak"> </div>
          </div>
        </div><br>
        <div id="gr_title">正解分布表示</div>
        <div id="cahrt_canvas"><canvas id="myChart"></canvas></div>
        <div id="graph_close"><u>閉じる</u></div>
      </div>
    </div>
    <div id="setting" class="non_visi explanation">
      <h2>色変更</h2>
      <p>結果としてテキスト出力される色は変わりません。</p>
      <div id="change_colour">
        <label>
          <input type="radio" id="colour_0" name="colour" value="0" onclick="ChangeColor('rgb(167,210,141)','rgb(252, 201, 72)')">
          <div class="colour_ex_box" style="background-color: rgb(167,210,141);"></div><div class="colour_ex_box" style="background-color: rgb(252, 201, 72);"></div>
        </label>
        <br>
        <label>
          <input type="radio" id="colour_1" name="colour" value="1" onclick="ChangeColor('#F5793A','#85C0F9')">
          <div class="colour_ex_box" style="background-color: #F5793A;"></div><div class="colour_ex_box" style="background-color: #85C0F9;"></div>
        </label>
        <br>
        <label>
          <input type="radio" id="colour_2" name="colour" value="2" onclick="ChangeColor('rgb(115, 145, 97)','rgb(188, 230, 163)')">
          <div class="colour_ex_box" style="background-color: rgb(115, 145, 97);"></div><div class="colour_ex_box" style="background-color: rgb(188, 230, 163);"></div>
        </label>
      </div>
      <br>
      <h2>残り候補数</h2>
      <p>現在取り組み中</p>
      <h2>新規単語登録</h2>
      <p>新規単語を登録したい場合は<a href="https://docs.google.com/forms/d/e/1FAIpQLSeqAiw5vTc2a2tA2S4614rF42P4Wi-VF9tyyH6GDrmzaaaanw/viewform?usp=sf_link" target="_blank">このフォーム</a>から投稿して下さい。反映まで時間をいただくと思いますが、一定の条件のもと辞書に追加いたします。</p>
      <h2>バグ報告</h2>
      <p>バグ等が発生し共有をしたい場合は<a href="https://github.com/plumchloride/tango/issues/new?assignees=&labels=bug&template=bug_report.md&title=" target="_blank">GitHub上のissues</a>もしくは作者の<a href="https://twitter.com/plum_chloride" target="_blank">Twitter</a>宛てにに投稿して下さい。</p>
      <h2>ライセンス</h2>
      <div style="font-size: 0.9em;">
        <p>本アプリケーションは <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">クリエイティブ・コモンズ 表示 - 非営利 - 継承 4.0 国際 ライセンス</a>の下に提供されています。<br>本アプリケーションはくわえて、BSDライセンスの下に提供されています。</p>
        <p>また本アプリケーションは次の著作者によるソフトウェアを使用しています：The UniDic Consortium「UniDic-cwj_3.1.0」 [<a  href = "https://ccd.ninjal.ac.jp/unidic/"target="_blank">https://ccd.ninjal.ac.jp/unidic/</a>]<br>
          「UniDic-cwj_3.1.0」はBSDライセンスおよびクリエイティブ・コモンズ 表示-非営利-継承4.0 非移植(CC BY-NC-SA 4.0)のもと提供されています。</p>
        <p>また本アプリケーションは次の著作者によるソフトウェアを使用しています：国立国語研究所(2004)『分類語彙表増補改訂版データベース』(ver.1.0)<br>国立国語研究所(2004)『分類語彙表増補改訂版データベース』(ver.1.0)はクリエイティブ・コモンズ 表示-非営利-継承4.0 非移植(CC BY-NC-SA 4.0)のもと提供されています。</p>
      </div>
      <h2>その他</h2>
      <p>コードに関しては以下のGitHubに掲載されています。</p>
      <p><a href="https://github.com/plumchloride/tango" target="_blank"><img id="github_img" src="https://gh-card.dev/repos/plumchloride/tango.svg"></a></p>
      <h2>その他報告</h2>
      <p>もし感想を送る場合やバグ報告の際は<a href="https://twitter.com/plum_chloride" target="_blank">こちらのTwitter</a>より連絡して下さい</p>

      <div style="display: flex;justify-content: center;">
        <address>
          &copy; 2022 Rikito Ohnishi
        </address>
      </div>

    </div>
    <!-- エラーハンドリング用 -->
    <div style="display: none;">
      <div class="display_num right_display word_none" id="dis-10-0"> </div>
      <div class="display_num right_display word_none" id="dis-10-1"> </div>
      <div class="display_num right_display word_none" id="dis-10-2"> </div>
      <div class="display_num right_display word_none" id="dis-10-3"> </div>
      <div class="display_num right_display word_none" id="dis-10-4"> </div>
    </div>

    <div id="alert" class="non_visi"><div><p id="alert_text"></p></div></div>
  </body>
</html>